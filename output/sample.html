<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MarkCard Preview</title>
    <style>
      :root {
        --bg: #0f1724;
        --card: #0b1220;
        --muted: #94a3b8;
        --accent: #7c3aed;
        --text: #e6eef8;
        --gap: 16px;
        --max-width: 1000px;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: linear-gradient(180deg, #081024 0%, #071022 100%);
        color: var(--text);
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        line-height: 1.4;
        -webkit-font-smoothing: antialiased;
      }
      .wrap {
        max-width: var(--max-width);
        margin: 24px auto;
        padding: 16px;
        box-sizing: border-box;
      }
      .card {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0.01)
        );
        border: 1px solid rgba(255, 255, 255, 0.04);
        border-radius: 12px;
        padding: 18px;
        margin: 12px 0;
        box-shadow: 0 6px 20px rgba(2, 6, 23, 0.6);
      }
      h1 {
        font-size: 1.6rem;
        margin: 0.25rem 0;
      }
      h2 {
        font-size: 1.15rem;
        margin: 0.4rem 0;
      }
      h3 {
        font-size: 1rem;
      }
      p {
        color: var(--muted);
        margin: 0.6rem 0;
      }
      pre {
        background: #021026;
        padding: 12px;
        border-radius: 8px;
        overflow: auto;
        color: #dbeafe;
        position: relative;
        margin: 0.75rem 0;
      }
      code.inline-code {
        background: rgba(255, 255, 255, 0.03);
        padding: 2px 6px;
        border-radius: 6px;
        color: #ffd;
        font-size: 0.95em;
      }
      .img-wrap {
        display: flex;
        justify-content: center;
        margin: 12px 0;
      }
      .img-wrap img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.03);
      }
      table.table {
        width: 100%;
        border-collapse: collapse;
        margin: 12px 0;
        font-size: 0.95rem;
      }
      table.table th,
      table.table td {
        border: 1px solid rgba(255, 255, 255, 0.04);
        padding: 8px;
        text-align: left;
      }
      a {
        color: var(--accent);
        word-break: break-all;
      }
      ul,
      ol {
        color: var(--muted);
        padding-left: 1.2rem;
      }
      .copy-btn {
        position: absolute;
        top: 8px;
        right: 8px;
        background: rgba(0, 0, 0, 0.35);
        border: 0;
        color: var(--text);
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.9rem;
      }
      .copy-btn:active {
        transform: translateY(1px);
      }
      .copy-msg {
        position: absolute;
        top: 8px;
        right: 84px;
        background: #111827;
        color: #fff;
        padding: 6px 8px;
        border-radius: 6px;
        font-size: 13px;
        display: none;
      }

      /* Mobile friendliness */
      @media (max-width: 640px) {
        .wrap {
          margin: 16px;
          padding: 12px;
        }
        .card {
          padding: 14px;
          border-radius: 10px;
        }
        h1 {
          font-size: 1.25rem;
        }
        h2 {
          font-size: 1.05rem;
        }
        pre {
          font-size: 0.9rem;
        }
        .copy-btn {
          padding: 10px 12px;
          right: 6px;
          top: 6px;
          border-radius: 10px;
        }
        .copy-msg {
          right: 68px;
          font-size: 12px;
        }
        table.table th,
        table.table td {
          padding: 6px;
          font-size: 0.9rem;
        }
        code.inline-code {
          font-size: 0.92em;
        }
      }

      /* Make long code blocks wrap nicer on small screens */
      pre code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>MarkCard Preview</h1>
      <section class="card">
        <div class="card-inner">
          <h1>MarkCard â€” Single Big Card Example</h1>
          <p>
            This single card contains many block types so you can see how the
            parser and renderer handle a dense, content-rich card. It includes
            inline formatting, lists, quotes, tables, multiple code blocks (JS +
            Python), links, images, and a final notes section.
          </p>
          <ul>
            <li>Quick start</li>
            <li>Keep cards short when possible</li>
            <li>Use clear headings to break sections</li>
          </ul>
          <h2>Inline formatting &amp; link</h2>
          <p>
            You can include inline code like
            <code class="inline-code">npm install markcard</code> and emphasize
            text with <strong>bold</strong> or <em>italic</em> styles.
            Here&#39;s a helpful link:
            <a
              href="https://example.org"
              target="_blank"
              rel="noopener noreferrer"
              >MarkCard repo</a
            >.
          </p>
          <blockquote>
            Note: blockquotes should be captured as quote blocks in the JSON.
          </blockquote>
          <h2>Ordered steps</h2>
          <ol>
            <li>Initialize the project</li>
            <li>Add your markdown cards</li>
            <li>Run the parser and renderer</li>
          </ol>
          <h2>Code: JavaScript (copyable)</h2>
          <p>
            The following JS snippet demonstrates a utility function and should
            be copyable from the HTML preview.
          </p>
          <pre><code class="language-javascript">// small JS helper: add and log
export function add(a, b) {
  const sum = a + b;
  console.log(`sum: ${sum}`);
  return sum;
}

// usage
add(2, 3);</code></pre>
          <h2>Code: Python (copyable)</h2>
          <pre><code class="language-python">def greet(name):
    print(f&quot;Hello, {name}!&quot;)

greet(&quot;Mark&quot;)</code></pre>
          <h2>Image</h2>
          <p>Here is an example image (relative path):</p>
          <div class="img-wrap">
            <img src="./assets/example.png" alt="example image" />
          </div>
          <h2>Table</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>alpha</td>
                <td>first item</td>
              </tr>
              <tr>
                <td>beta</td>
                <td>second item</td>
              </tr>
            </tbody>
          </table>
          <h2>Final notes</h2>
          <p>
            This is the end of the single large card. Add more content here to
            test long cards, multiple code blocks, and media.
          </p>
        </div>
      </section>
    </div>
    <script>
      // Add copy buttons to all code blocks
      (function () {
        function createBtn() {
          const btn = document.createElement("button");
          btn.className = "copy-btn";
          btn.type = "button";
          btn.textContent = "Copy";
          return btn;
        }
        function createMsg() {
          const s = document.createElement("div");
          s.className = "copy-msg";
          s.textContent = "Copied!";
          return s;
        }
        document.querySelectorAll("pre > code").forEach((code) => {
          const pre = code.parentNode;
          pre.style.position = "relative";
          const btn = createBtn();
          const msg = createMsg();
          pre.appendChild(btn);
          pre.appendChild(msg);
          btn.addEventListener("click", async () => {
            try {
              await navigator.clipboard.writeText(code.textContent);
              msg.style.display = "block";
              setTimeout(() => (msg.style.display = "none"), 1500);
            } catch (e) {
              // Fallback
              const ta = document.createElement("textarea");
              ta.value = code.textContent;
              document.body.appendChild(ta);
              ta.select();
              try {
                document.execCommand("copy");
                msg.style.display = "block";
                setTimeout(() => (msg.style.display = "none"), 1500);
              } catch (err) {}
              document.body.removeChild(ta);
            }
          });
        });
      })();
    </script>
  </body>
</html>
